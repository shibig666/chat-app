# Chat-APP

第四届软件设计大赛作品

一款简单的聊天软件，支持用户注册、登录、即时消息发送、聊天室功能，旨在实现一个基础的多人实时聊天平台。该项目使用 WebSocket 实现实时消息推送，并通过后端 API 验证用户身份。

## 功能特点

- **用户注册**：用户通过输入用户名和密码进行注册。
- **用户登录**：用户通过输入用户名和密码登录，后端可以检测是否存在用户以及密码是否正确。
- **实时聊天**：用户进入聊天室后，可以发送即时消息，所有在线用户都能实时接收到消息。
- **在线用户显示**：实时显示加入聊天的用户和退出聊天的用户
- **安全性**：使用 Token 机制验证用户身份，确保只有通过验证的用户才能加入聊天室并发送消息。用户密码使用sha256进行传输与保存。

## 使用说明

### 构建项目

1. **克隆或解压项目**：

   - 将项目代码克隆或解压到本地。

2. **安装 Node.js**：

   - 在终端执行以下命令安装 Node.js 和 npm）：

   ```bash
   sudo apt install nodejs npm
   ```

3. **安装依赖**：

   - 进入项目目录，执行以下命令来安装项目依赖：

   ```bash
   cd chat-app
   npm install
   ```

4. **运行项目**：

   - 安装依赖完成后，执行以下命令启动项目：

   ```bash
   npm start
   ```

   - 服务器将在本地的 `http://localhost:3000` 启动，你可以通过浏览器访问。

### 浏览器访问

- 打开浏览器并访问 `http://localhost:3000`，你将看到一个简单的登录页面。
- 输入用户名后，点击登录，你将被引导到聊天室页面，并可以开始与其他在线用户进行实时聊天。

## 技术栈

### 开发语言

1. **JavaScript**：用于客户端和服务器端的编程，客户端主要负责用户界面和事件交互，服务器端使用 Node.js 和 Express.js 实现 API 服务和 WebSocket 连接。
2. **HTML**：构建页面结构，展示聊天界面。
3. **CSS**：用于页面样式的设计，保证良好的用户体验。

### 开发工具与框架

1. **VS Code**：使用 Visual Studio Code 作为主要的代码编辑器。
2. **Node.js**：基于事件驱动和非阻塞 I/O 的 JavaScript 运行环境，用于搭建服务器和处理 WebSocket 连接。
3. **Express.js**：轻量级 Web 框架，用于快速构建服务器端 API，处理用户登录和 Token 验证。
4. **Socket.IO**：一个基于 WebSocket 的库，用于实现实时双向通信，确保即时消息推送和用户加入/离开通知。
5. **Crypto-js**：用于对数据进行加解密操作，保证安全性。

## 系统架构

### 前端

- 用户通过浏览器访问 `index.html` 页面，在页面可以进行注册与登录操作，登录成功会跳转至聊天界面，并在本地保存token用于用户信息验证。
- 用户进入聊天界面，读取登录保存的token，向服务器验证，只有验证通过才能进行聊天。
- 使用 `Socket.IO` 与服务器进行双向通信，接收和发送消息，并处理用户加入/离开通知。

### 后端

- 后端使用 `Express.js` 处理登录、注册、验证 Token 和管理在线用户。

- 通过 `Socket.IO` 监听 WebSocket 连接，实现实时消息推送和在线用户管理。

- 所有消息都会广播给所有在线用户，并显示在聊天界面中。

#### API

- /api/login
  - POST，发送账号和加密的密码，接收登录状态和token。
  - 用于进行用户登录操作，后端会产生token并发送给用户，在之后用户通过token来建立socket连接。
- /api/register
  - POST，发送账号和加密的密码，接收注册状态。
  - 用于进行用户注册操作，只有注册成功的用户才能进行登录。
- /api/verift
  - POST，发送token，接收用户名。
  - 用于验证token合法性，获取用户名。

 
